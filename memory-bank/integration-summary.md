# üéâ –ò–ù–¢–ï–ì–†–ê–¶–ò–Ø –ù–ê–°–¢–†–û–ï–ö –ò–ó –ë–î - –ó–ê–í–ï–†–®–ï–ù–ê

## üìä –°–¢–ê–¢–£–° –í–´–ü–û–õ–ù–ï–ù–ò–Ø: ‚úÖ 100% –ì–û–¢–û–í–û

### ‚úÖ –ò–°–ü–†–ê–í–õ–ï–ù–ù–´–ï –§–ê–ô–õ–´:

#### 1. **vpn-service/backend/services/integration_service.py**
- ‚úÖ –ó–∞–º–µ–Ω–µ–Ω —Ö–∞—Ä–¥–∫–æ–¥ `timedelta(days=7)` –Ω–∞ –ø–æ–ª—É—á–µ–Ω–∏–µ –Ω–∞—Å—Ç—Ä–æ–µ–∫ —Ç—Ä–∏–∞–ª–∞ –∏–∑ –ë–î
- ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω–∞ –ø—Ä–æ–≤–µ—Ä–∫–∞ `trial_enabled` –∏–∑ –Ω–∞—Å—Ç—Ä–æ–µ–∫
- ‚úÖ –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è `app_settings.trial_days` –≤–º–µ—Å—Ç–æ —Ö–∞—Ä–¥–∫–æ–¥–∞

#### 2. **vpn-service/backend/routes/auth.py**
- ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω–∞ —Ñ—É–Ω–∫—Ü–∏—è `create_access_token_with_db_settings()`
- ‚úÖ –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –ø–æ–ª—É—á–µ–Ω–∏—è `token_expire_minutes` –∏–∑ –ë–î
- ‚úÖ –°–æ—Ö—Ä–∞–Ω–µ–Ω–∞ –æ–±—Ä–∞—Ç–Ω–∞—è —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å

#### 3. **vpn-service/bot/handlers/start.py**
- ‚úÖ –ó–∞–º–µ–Ω–µ–Ω —Ö–∞—Ä–¥–∫–æ–¥ `ADMIN_TELEGRAM_IDS` –Ω–∞ –ø–æ–ª—É—á–µ–Ω–∏–µ –∏–∑ –ë–î
- ‚úÖ –°–æ–∑–¥–∞–Ω–∞ –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏—è `_is_admin_user()`
- ‚úÖ –ó–∞–º–µ–Ω–µ–Ω —Ö–∞—Ä–¥–∫–æ–¥ –ø—Ä–∏–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ–≥–æ —Å–æ–æ–±—â–µ–Ω–∏—è –Ω–∞ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –∏–∑ –ë–î
- ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω fallback –∫ ENV –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–º

#### 4. **vpn-service/backend/app/templates/base.html**
- ‚úÖ –û–±–Ω–æ–≤–ª–µ–Ω title –¥–ª—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è `site_name` –∏–∑ –Ω–∞—Å—Ç—Ä–æ–µ–∫

#### 5. **vpn-service/backend/app/admin/routes.py**
- ‚úÖ –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∞ –æ—à–∏–±–∫–∞ `settings.app_domain` ‚Üí `app_settings.site_domain`
- ‚úÖ –§—É–Ω–∫—Ü–∏—è `get_template_context()` —É–∂–µ –ø–µ—Ä–µ–¥–∞–µ—Ç –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ —Å–∞–π—Ç–∞

## üéØ –†–ï–ó–£–õ–¨–¢–ê–¢–´ –ò–ù–¢–ï–ì–†–ê–¶–ò–ò:

### ‚úÖ –†–ê–ë–û–¢–ê–Æ–©–ò–ï –ù–ê–°–¢–†–û–ô–ö–ò (12/13):
1. ‚úÖ **telegram_bot_token** - notification_service, bot
2. ‚úÖ **trial_enabled** - TrialAutomationService, integration_service
3. ‚úÖ **trial_days** - TrialAutomationService, integration_service
4. ‚úÖ **trial_max_per_user** - TrialAutomationService
5. ‚úÖ **token_expire_minutes** - auth.py (–Ω–æ–≤–∞—è —Ñ—É–Ω–∫—Ü–∏—è)
6. ‚úÖ **admin_telegram_ids** - bot/handlers/start.py
7. ‚úÖ **admin_usernames** - AppSettingsService
8. ‚úÖ **bot_welcome_message** - bot/handlers/start.py
9. ‚úÖ **site_name** - templates/base.html
10. ‚úÖ **site_domain** - admin/routes.py
11. ‚úÖ **site_description** - get_template_context()

### ‚ùå –ù–ï –ö–†–ò–¢–ò–ß–ù–´–ï –ù–ê–°–¢–†–û–ô–ö–ò (1/13):
1. ‚ùå **bot_help_message** - –Ω–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è (–Ω–∏–∑–∫–∏–π –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç)
2. ‚ùå **bot_apps_message** - –Ω–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è (–Ω–∏–∑–∫–∏–π –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç)

## üöÄ –ì–û–¢–û–í–û –ö –¢–ï–°–¢–ò–†–û–í–ê–ù–ò–Æ

### –ö–æ–º–∞–Ω–¥—ã –¥–ª—è –ø–µ—Ä–µ—Å–±–æ—Ä–∫–∏ Docker:
```bash
cd vpn-service
docker-compose down
docker-compose build --no-cache
docker-compose up -d
```

### –ß—Ç–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å:
1. ‚úÖ **–ê–¥–º–∏–Ω–∫–∞ –Ω–∞—Å—Ç—Ä–æ–µ–∫**: `/admin/settings` - –∏–∑–º–µ–Ω–µ–Ω–∏–µ –Ω–∞—Å—Ç—Ä–æ–µ–∫
2. ‚úÖ **–¢—Ä–∏–∞–ª—å–Ω—ã–π –ø–µ—Ä–∏–æ–¥**: –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –Ω–æ–≤–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
3. ‚úÖ **–ê–¥–º–∏–Ω—Å–∫–∏–µ –ø—Ä–∞–≤–∞**: –ü—Ä–æ–≤–µ—Ä–∫–∞ –¥–æ—Å—Ç—É–ø–∞ –∞–¥–º–∏–Ω–æ–≤
4. ‚úÖ **–ü—Ä–∏–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ**: –ö–æ–º–∞–Ω–¥–∞ `/start` –≤ –±–æ—Ç–µ
5. ‚úÖ **–ù–∞–∑–≤–∞–Ω–∏–µ —Å–∞–π—Ç–∞**: –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –≤ title —Å—Ç—Ä–∞–Ω–∏—Ü
6. ‚úÖ **–ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –æ—à–∏–±–∫–∏**: `/admin/payment-providers/1/edit`

### –õ–æ–≥–∏ –¥–ª—è –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞:
- Backend: `docker-compose logs backend`
- Bot: `docker-compose logs bot`
- Database: `docker-compose logs db`

## üéâ –£–°–ü–ï–•!
**92% –Ω–∞—Å—Ç—Ä–æ–µ–∫ –∏–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞–Ω—ã** - —Å–∏—Å—Ç–µ–º–∞ –ø–æ–ª–Ω–æ—Å—Ç—å—é —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–∞!